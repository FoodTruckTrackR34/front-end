[{"/Users/mmurph917/Desktop/FoodTruckTrackR/front-end/trackr/src/index.js":"1","/Users/mmurph917/Desktop/FoodTruckTrackR/front-end/trackr/src/App.js":"2","/Users/mmurph917/Desktop/FoodTruckTrackR/front-end/trackr/src/reportWebVitals.js":"3","/Users/mmurph917/Desktop/FoodTruckTrackR/front-end/trackr/src/components/Trucks.js":"4","/Users/mmurph917/Desktop/FoodTruckTrackR/front-end/trackr/src/dummy-data/users.js":"5","/Users/mmurph917/Desktop/FoodTruckTrackR/front-end/trackr/src/components/TruckCard.js":"6","/Users/mmurph917/Desktop/FoodTruckTrackR/front-end/trackr/src/components/OperatorDash.js":"7","/Users/mmurph917/Desktop/FoodTruckTrackR/front-end/trackr/src/components/DinerDash.js":"8","/Users/mmurph917/Desktop/FoodTruckTrackR/front-end/trackr/src/components/Footer.js":"9","/Users/mmurph917/Desktop/FoodTruckTrackR/front-end/trackr/src/components/NavBar.js":"10","/Users/mmurph917/Desktop/FoodTruckTrackR/front-end/trackr/src/components/RegisterForm.js":"11","/Users/mmurph917/Desktop/FoodTruckTrackR/front-end/trackr/src/components/DinerProfile.js":"12","/Users/mmurph917/Desktop/FoodTruckTrackR/front-end/trackr/src/validation/dinerFormSchema.js":"13","/Users/mmurph917/Desktop/FoodTruckTrackR/front-end/trackr/src/validation/operatorFormSchema.js":"14","/Users/mmurph917/Desktop/FoodTruckTrackR/front-end/trackr/src/utils/axiosWithAuth.js":"15","/Users/mmurph917/Desktop/FoodTruckTrackR/front-end/trackr/src/components/LoginForm.js":"16","/Users/mmurph917/Desktop/FoodTruckTrackR/front-end/trackr/src/validation/loginFormSchema.js":"17","/Users/mmurph917/Desktop/FoodTruckTrackR/front-end/trackr/src/components/OperatorProfile.js":"18","/Users/mmurph917/Desktop/FoodTruckTrackR/front-end/trackr/src/components/SecureOpRoute.js":"19","/Users/mmurph917/Desktop/FoodTruckTrackR/front-end/trackr/src/components/SecureDinerRoute.js":"20"},{"size":543,"mtime":1612307994275,"results":"21","hashOfConfig":"22"},{"size":5809,"mtime":1612321672700,"results":"23","hashOfConfig":"22"},{"size":362,"mtime":1612207851330,"results":"24","hashOfConfig":"22"},{"size":2500,"mtime":1612321265207,"results":"25","hashOfConfig":"22"},{"size":3430,"mtime":1612294011542,"results":"26","hashOfConfig":"22"},{"size":2297,"mtime":1612311623693,"results":"27","hashOfConfig":"22"},{"size":1087,"mtime":1612311623690,"results":"28","hashOfConfig":"22"},{"size":263,"mtime":1612307346033,"results":"29","hashOfConfig":"22"},{"size":316,"mtime":1612307994263,"results":"30","hashOfConfig":"22"},{"size":290,"mtime":1612311796770,"results":"31","hashOfConfig":"22"},{"size":6209,"mtime":1612298480957,"results":"32","hashOfConfig":"22"},{"size":164,"mtime":1612294011527,"results":"33","hashOfConfig":"22"},{"size":636,"mtime":1612298480965,"results":"34","hashOfConfig":"22"},{"size":614,"mtime":1612316990041,"results":"35","hashOfConfig":"22"},{"size":331,"mtime":1612319526673,"results":"36","hashOfConfig":"22"},{"size":4310,"mtime":1612321265201,"results":"37","hashOfConfig":"22"},{"size":346,"mtime":1612321265209,"results":"38","hashOfConfig":"22"},{"size":373,"mtime":1612321265203,"results":"39","hashOfConfig":"22"},{"size":399,"mtime":1612321496507,"results":"40","hashOfConfig":"22"},{"size":402,"mtime":1612321492622,"results":"41","hashOfConfig":"22"},{"filePath":"42","messages":"43","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"exgq8f",{"filePath":"44","messages":"45","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"46","messages":"47","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"49","messages":"50","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"51","usedDeprecatedRules":"48"},{"filePath":"52","messages":"53","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"54","usedDeprecatedRules":"48"},{"filePath":"55","messages":"56","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"57","usedDeprecatedRules":"48"},{"filePath":"58","messages":"59","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"60","messages":"61","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"62","messages":"63","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"64","messages":"65","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"66","messages":"67","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"68","messages":"69","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"70","messages":"71","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"72","messages":"73","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"74","messages":"75","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"76","messages":"77","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"78","usedDeprecatedRules":"48"},{"filePath":"79","messages":"80","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"81","messages":"82","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"83","messages":"84","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"85","messages":"86","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"/Users/mmurph917/Desktop/FoodTruckTrackR/front-end/trackr/src/index.js",[],"/Users/mmurph917/Desktop/FoodTruckTrackR/front-end/trackr/src/App.js",["87"],"/Users/mmurph917/Desktop/FoodTruckTrackR/front-end/trackr/src/reportWebVitals.js",[],["88","89"],"/Users/mmurph917/Desktop/FoodTruckTrackR/front-end/trackr/src/components/Trucks.js",["90","91","92","93"],"import React, { useEffect, useState } from 'react'\nimport users from '../dummy-data/users'\nimport { axiosWithAuth } from '../utils/axiosWithAuth'\nimport TruckCard from './TruckCard'\n\n// const allOperatorData = users.filter(user => {\n//               return  user.role === \"operator\"\n// })\n// let allTruckData = []\n// allOperatorData.forEach( oper => {\n//                         oper.trucksOwned.forEach( truck => {\n//                             allTruckData.push(truck)\n//                         })\n// })\n\n// const currentUserData = {\n//     id: 2,\n//     role: \"diner\",\n//     username: \"mikemurphy\",\n//     password: \"password\",\n//     currentLocation: \"60805\",   // can be string with address, zipcode number, GPS coordinates as string\n//     favoriteTrucks: [123, 789] // id\n//                }\n\nconst allOperatorData = users.filter(user => {\n              return  user.role === \"operator\"\n})\n// let allTruckData = []\n// allOperatorData.forEach( oper => {\n//                         oper.trucksOwned.forEach( truck => {\n//                             allTruckData.push(truck)\n//                         })\n// })\n\nconst currentUserData = {\n    id: 2,\n    role: \"diner\",\n    username: \"mikemurphy\",\n    password: \"password\",\n    currentLocation: \"60805\",   // can be string with address, zipcode number, GPS coordinates as string\n    favoriteTrucks: [123, 789] // id\n               }\n\nexport default function Trucks(props) {\n    const [trucks, setTrucks] = useState([])\n    const [currentUser, setCurrentUser] = useState(currentUserData)\n    const [isDiner, setIsDiner] = useState(false)\n    const [favorites, setFavorites] = useState([])\n    \n    const runEffect = () => {\n        //  setCurrentUser(currentUserData)\n        axiosWithAuth()\n        .get('/api/trucks')\n        .then(res => {\n            console.log(res.data)\n            setTrucks(res.data)\n        }\n        )\n        .catch(err => {\n            console.log(err)\n        })\n \n    }\n\n    useEffect( () => {\n        runEffect()\n        setIsDiner(currentUser.role === \"diner\")\n        setFavorites(currentUser.favoriteTrucks)\n    }, [])\n\n  \n\n    return (\n        <div className=\"trucks-container\">\n        <h1>Hello from trucks</h1>\n            {trucks.map( truck => {\n                return (\n                    <TruckCard key={truck.id} truck={truck} isDiner={currentUser.role === \"diner\"} favorites={favorites} setFavorites={setFavorites}/>\n                )\n            })}\n\n        </div>\n        \n    )\n}","/Users/mmurph917/Desktop/FoodTruckTrackR/front-end/trackr/src/dummy-data/users.js",["94"],"const users = [{\n            id: 0,\n            role: \"diner\",\n            username: \"mikemurphy\",\n            password: \"password\",\n            currentLocation: \"60805\",   // can be string with address, zipcode number, GPS coordinates as string\n            favoriteTrucks: [0, 3, 5], // id\n        },\n        {\n            id: 1,\n            role: \"operator\",\n            username: \"anthony\",\n            password: \"password\",\n            currentLocation: \"02134\",   // can be string with address, zipcode number, GPS coordinates as string\n            trucksOwned: [\n                        {id: 123, // unique truck id\n                        imageOfTruck: \"https://images.unsplash.com/photo-1565097158282-1094bd0fe46a?ixid=MXwxMjA3fDB8MHxzZWFyY2h8MTB8fGZvb2QlMjB0cnVja3N8ZW58MHx8MHw%3D&ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=60\",\n                        cuisineType: \"popcorn\",\n                        customerRatings: [4, 3, 2, 1]}\n            ]},   \n            {\n             id: 2,\n             role: \"diner\",\n             username: \"mikemurphy\",\n             password: \"password\",\n             currentLocation: \"60805\",   // can be string with address, zipcode number, GPS coordinates as string\n             favoriteTrucks: [123, 456, 789], // id\n                        },\n            {\n                id: 3,\n                role: \"operator\",\n                username: \"anthony\",\n                password: \"password\",\n                currentLocation: \"02134\",   // can be string with address, zipcode number, GPS coordinates as string\n                trucksOwned: [\n                    {\n                        id: 456,\n                        imageOfTruck: \"https://images.unsplash.com/photo-1565097158282-1094bd0fe46a?ixid=MXwxMjA3fDB8MHxzZWFyY2h8MTB8fGZvb2QlMjB0cnVja3N8ZW58MHx8MHw%3D&ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=60\",\n                        cuisineType: \"popcorn\",\n                        customerRatings: [4, 5, 2, 2]\n                    },\n                    {\n                        id: 789,\n                        imageOfTruck: \"https://images.unsplash.com/photo-1565097158282-1094bd0fe46a?ixid=MXwxMjA3fDB8MHxzZWFyY2h8MTB8fGZvb2QlMjB0cnVja3N8ZW58MHx8MHw%3D&ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=60\",\n                        cuisineType: \"popcorn\",\n                        customerRatings: [4, 5, 2, 2]\n                    }\n            ]\n    }]\n\n    users.map(user => {\n      if(user.trucksOwned) {\n            user.trucksOwned.map((truck, i )=> {\n                let total = 0;\n                truck.customerRatings.forEach(rating => {\n                    total += rating\n                })\n                let avg = total / truck.customerRatings.length //calculate average rating\n                let newTruckObj = {...truck,                    // create new truck obj that includes avgCustomerRatings\n                                    avgCustomerRatings: avg}\n                let newTrucksOwnedArr = user.trucksOwned        // set new array equal to the previous array\n                newTrucksOwnedArr[i] = newTruckObj              // replace element in array with the newtruckobj\n                user.trucksOwned = newTrucksOwnedArr            // update the trucksOwned array\n            })\n        }\n        return (\n            user                                                // return user with the new trucks owned array\n        )  \n    } )\n\n    export default users","/Users/mmurph917/Desktop/FoodTruckTrackR/front-end/trackr/src/components/TruckCard.js",["95","96"],"// TruckCard has the ability to expand if isExpanded === true\nimport React, { useEffect, useState } from \"react\"\n\n\n\nexport default function TruckCard(props) {\n    const {truck, isDiner, favorites, setFavorites, key} = props\n    const [isExpanded, setIsExpanded] = useState(false)\n    const [isFavorite, setIsFavorite] = useState(false)\n\n       const favoriteMatch = favorites.filter(favorite => {\n                           return (\n                                favorite === truck.id)\n    })\n\n    useEffect( () => {\n \n    console.log(favoriteMatch.length)\n        setIsFavorite(favoriteMatch.length !== 0) // if favoriteMatch is an empty array, setIsFavorite to true - else, false\n    }, [favorites])\n\n\n    const handleExpand = () => {\n        setIsExpanded(!isExpanded)\n    }\n    const handleAddToFavorites = () => {\n        setFavorites([...favorites,\n                    truck.id])\n                    // post request\n    }\n\n    const handleRemoveFromFavorites = () => {\n        setFavorites([...favorites,\n                    truck.id])\n\n                    // delete request\n    }\n\n    return(\n        <div className=\"truckCard-container\">\n            ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ <br/>\n            This is a truck with id: {truck.id}\n            <h3> Name of Truck </h3>\n            <h4> Cuisine: {truck.cuisineType}</h4>\n            <h4> Rating: {truck.avgCustomerRatings}/5 </h4>\n            {!isDiner ? <></> :\n           isFavorite ? <h5 onClick ={handleRemoveFromFavorites}> ❤️ one of your faves </h5> :\n           <h5 onClick={handleAddToFavorites}> ♡ add to faves </h5>\n            } \n            {/* ^^ Only display click to add to favorites if user is role === \"diner\", state managed in Trucks.js */}\n            {!isExpanded && <h5 onClick={handleExpand}> Click here to see more details</h5>}\n            {/* ^^ Only display \"click to see more\" when the card is not expanded */}\n            {isExpanded && \n            <div className=\"expanded-details-container\" >\n            <img src = {truck.imageOfTruck} alt=\"this food truck\"/>\n            <h5 onClick={handleExpand}> Click here to hide </h5>\n            </div>}\n             {/* ^^ Only display the above when the card IS expanded */}\n             ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n        </div>\n    )\n}","/Users/mmurph917/Desktop/FoodTruckTrackR/front-end/trackr/src/components/OperatorDash.js",[],"/Users/mmurph917/Desktop/FoodTruckTrackR/front-end/trackr/src/components/DinerDash.js",[],"/Users/mmurph917/Desktop/FoodTruckTrackR/front-end/trackr/src/components/Footer.js",[],"/Users/mmurph917/Desktop/FoodTruckTrackR/front-end/trackr/src/components/NavBar.js",[],"/Users/mmurph917/Desktop/FoodTruckTrackR/front-end/trackr/src/components/RegisterForm.js",[],"/Users/mmurph917/Desktop/FoodTruckTrackR/front-end/trackr/src/components/DinerProfile.js",[],"/Users/mmurph917/Desktop/FoodTruckTrackR/front-end/trackr/src/validation/dinerFormSchema.js",[],"/Users/mmurph917/Desktop/FoodTruckTrackR/front-end/trackr/src/validation/operatorFormSchema.js",[],"/Users/mmurph917/Desktop/FoodTruckTrackR/front-end/trackr/src/utils/axiosWithAuth.js",[],"/Users/mmurph917/Desktop/FoodTruckTrackR/front-end/trackr/src/components/LoginForm.js",["97"],"// username and password need to be present\n\n// looking for username and password on the back end\n// access key?\n// send to back end via POST (onSubmit())\nimport React, { useState, useEffect } from \"react\";\nimport styled from \"styled-components\";\nimport loginSchema from \"../validation/loginFormSchema\";\nimport * as yup from \"yup\";\nimport { axiosWithAuth } from \"../utils/axiosWithAuth\";\nimport { Link } from \"react-router-dom\";\n\nconst initialLoginFormValues = {\n  loginUsername: \"\",\n  loginPassword: \"\",\n};\n\nconst initialLoginFormErrors = {\n  loginUsername: \"\",\n  loginPassword: \"\",\n};\nconst initialLoginDisabled = true;\n\nexport default function LoginForm() {\n  const [loginFormValues, setLoginFormValues] = useState(\n    initialLoginFormValues\n  );\n  const [loginButton, setLoginButton] = useState(initialLoginDisabled);\n  const [loginFormErrors, setLoginFormErrors] = useState(\n    initialLoginFormErrors\n  );\n\n  const loginInputChange = (name, value) => {\n    yup\n      .reach(loginSchema, name)\n      .validate(value)\n      .then(() => {\n        setLoginFormErrors({\n          ...loginFormErrors,\n          [name]: \"\",\n        });\n      })\n      .catch((err) => {\n        setLoginFormErrors({\n          ...loginFormErrors,\n          [name]: err.errors[0],\n        });\n      });\n\n    setLoginFormValues({\n      ...loginFormValues,\n      [name]: value,\n    });\n  };\n\n  useEffect(() => {\n    loginSchema.isValid(loginFormValues).then((valid) => {\n      setLoginButton(!valid);\n    });\n  }, [loginFormValues]);\n\n  /*\ncode that was pulled in from the main App.js component is up above    \n    \n    \n    \n    \n    \n    \ncode that was already in the Login.js component is placed below and everything is hooked up to work as before will be hooking the form to the backend using the POST upon form submit\n    */\n  const loginOnChange = (evt) => {\n    const { name, value } = evt.target;\n    loginInputChange(name, value);\n  };\n\n  const loginSubmit = (evt) => {\n    evt.preventDefault();\n    //axios needed\n    axiosWithAuth()\n      .get(\"/api/auth/login\", loginFormValues)\n      .then((res) => {\n        console.log(res);\n        setLoginFormValues(initialLoginFormValues);\n      })\n      .catch((err) => {\n        console.log(err.response);\n      });\n    //\n    // console.log(\"success!\");\n    // this will be axios POST instead of console.log. Thats there just for testing and the form does work properly (just doesn't send any actual data)\n  };\n\n  return (\n    <StyledLoginContainer>\n      <h2>Login Here!</h2>\n      <form onSubmit={loginSubmit}>\n        <StyledInputDiv>\n          <label>\n            Username:\n            <input\n              type=\"text\"\n              name=\"loginUsername\"\n              value={loginFormValues.loginUsername}\n              onChange={loginOnChange}\n            ></input>\n            <StyledLoginErrors>\n              {loginFormErrors.loginUsername}\n            </StyledLoginErrors>\n          </label>\n        </StyledInputDiv>\n\n        <StyledInputDiv>\n          <label>\n            Password:\n            <input\n              type=\"password\"\n              name=\"loginPassword\"\n              value={loginFormValues.loginPassword}\n              onChange={loginOnChange}\n            ></input>\n            <StyledLoginErrors>\n              {loginFormErrors.loginPassword}\n            </StyledLoginErrors>\n          </label>\n        </StyledInputDiv>\n        <button disabled={loginButton}>Login!</button>\n      </form>\n      <p>\n        Need an Account?\n        <br />\n        <Link to=\"/register-form\">Register Here</Link>\n      </p>\n    </StyledLoginContainer>\n  );\n}\n\nconst StyledLoginContainer = styled.div`\n  border: solid 1px red;\n\n  input {\n    margin: 0 0 1% 0.3%;\n  }\n`;\n\nconst StyledInputDiv = styled.div`\n  // border: solid 1px blue;\n`;\n\nconst StyledLoginErrors = styled.div`\n  color: red;\n`;\n","/Users/mmurph917/Desktop/FoodTruckTrackR/front-end/trackr/src/validation/loginFormSchema.js",[],"/Users/mmurph917/Desktop/FoodTruckTrackR/front-end/trackr/src/components/OperatorProfile.js",[],"/Users/mmurph917/Desktop/FoodTruckTrackR/front-end/trackr/src/components/SecureOpRoute.js",[],"/Users/mmurph917/Desktop/FoodTruckTrackR/front-end/trackr/src/components/SecureDinerRoute.js",[],{"ruleId":"98","severity":1,"message":"99","line":17,"column":10,"nodeType":"100","messageId":"101","endLine":17,"endColumn":23},{"ruleId":"102","replacedBy":"103"},{"ruleId":"104","replacedBy":"105"},{"ruleId":"98","severity":1,"message":"106","line":25,"column":7,"nodeType":"100","messageId":"101","endLine":25,"endColumn":22},{"ruleId":"98","severity":1,"message":"107","line":46,"column":25,"nodeType":"100","messageId":"101","endLine":46,"endColumn":39},{"ruleId":"98","severity":1,"message":"108","line":47,"column":12,"nodeType":"100","messageId":"101","endLine":47,"endColumn":19},{"ruleId":"109","severity":1,"message":"110","line":70,"column":8,"nodeType":"111","endLine":70,"endColumn":10,"suggestions":"112"},{"ruleId":"113","severity":1,"message":"114","line":53,"column":45,"nodeType":"115","messageId":"116","endLine":53,"endColumn":47},{"ruleId":"98","severity":1,"message":"117","line":7,"column":53,"nodeType":"100","messageId":"101","endLine":7,"endColumn":56},{"ruleId":"109","severity":1,"message":"118","line":20,"column":8,"nodeType":"111","endLine":20,"endColumn":19,"suggestions":"119"},{"ruleId":"98","severity":1,"message":"99","line":10,"column":10,"nodeType":"100","messageId":"101","endLine":10,"endColumn":23},"no-unused-vars","'axiosWithAuth' is defined but never used.","Identifier","unusedVar","no-native-reassign",["120"],"no-negated-in-lhs",["121"],"'allOperatorData' is assigned a value but never used.","'setCurrentUser' is assigned a value but never used.","'isDiner' is assigned a value but never used.","react-hooks/exhaustive-deps","React Hook useEffect has missing dependencies: 'currentUser.favoriteTrucks' and 'currentUser.role'. Either include them or remove the dependency array. You can also replace multiple useState variables with useReducer if 'setIsDiner' needs the current value of 'currentUser.role'.","ArrayExpression",["122"],"array-callback-return","Array.prototype.map() expects a return value from arrow function.","ArrowFunctionExpression","expectedInside","'key' is assigned a value but never used.","React Hook useEffect has a missing dependency: 'favoriteMatch.length'. Either include it or remove the dependency array.",["123"],"no-global-assign","no-unsafe-negation",{"desc":"124","fix":"125"},{"desc":"126","fix":"127"},"Update the dependencies array to be: [currentUser.favoriteTrucks, currentUser.role]",{"range":"128","text":"129"},"Update the dependencies array to be: [favoriteMatch.length, favorites]",{"range":"130","text":"131"},[2122,2124],"[currentUser.favoriteTrucks, currentUser.role]",[691,702],"[favoriteMatch.length, favorites]"]