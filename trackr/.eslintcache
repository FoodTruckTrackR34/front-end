[{"C:\\Users\\Tony\\Documents\\Lambda\\FoodTruckTrackR\\front-end\\trackr\\src\\index.js":"1","C:\\Users\\Tony\\Documents\\Lambda\\FoodTruckTrackR\\front-end\\trackr\\src\\reportWebVitals.js":"2","C:\\Users\\Tony\\Documents\\Lambda\\FoodTruckTrackR\\front-end\\trackr\\src\\App.js":"3","C:\\Users\\Tony\\Documents\\Lambda\\FoodTruckTrackR\\front-end\\trackr\\src\\components\\RegisterForm.js":"4","C:\\Users\\Tony\\Documents\\Lambda\\FoodTruckTrackR\\front-end\\trackr\\src\\components\\OperatorDash.js":"5","C:\\Users\\Tony\\Documents\\Lambda\\FoodTruckTrackR\\front-end\\trackr\\src\\components\\DinerDash.js":"6","C:\\Users\\Tony\\Documents\\Lambda\\FoodTruckTrackR\\front-end\\trackr\\src\\components\\NavBar.js":"7","C:\\Users\\Tony\\Documents\\Lambda\\FoodTruckTrackR\\front-end\\trackr\\src\\validation\\operatorFormSchema.js":"8","C:\\Users\\Tony\\Documents\\Lambda\\FoodTruckTrackR\\front-end\\trackr\\src\\components\\Footer.js":"9","C:\\Users\\Tony\\Documents\\Lambda\\FoodTruckTrackR\\front-end\\trackr\\src\\validation\\dinerFormSchema.js":"10","C:\\Users\\Tony\\Documents\\Lambda\\FoodTruckTrackR\\front-end\\trackr\\src\\utils\\axiosWithAuth.js":"11","C:\\Users\\Tony\\Documents\\Lambda\\FoodTruckTrackR\\front-end\\trackr\\src\\components\\LoginForm.js":"12","C:\\Users\\Tony\\Documents\\Lambda\\FoodTruckTrackR\\front-end\\trackr\\src\\components\\PrivateRoute.js":"13","C:\\Users\\Tony\\Documents\\Lambda\\FoodTruckTrackR\\front-end\\trackr\\src\\components\\DinerProfile.js":"14","C:\\Users\\Tony\\Documents\\Lambda\\FoodTruckTrackR\\front-end\\trackr\\src\\components\\Trucks.js":"15","C:\\Users\\Tony\\Documents\\Lambda\\FoodTruckTrackR\\front-end\\trackr\\src\\components\\OperatorProfile.js":"16","C:\\Users\\Tony\\Documents\\Lambda\\FoodTruckTrackR\\front-end\\trackr\\src\\validation\\loginFormSchema.js":"17","C:\\Users\\Tony\\Documents\\Lambda\\FoodTruckTrackR\\front-end\\trackr\\src\\components\\TruckCard.js":"18","C:\\Users\\Tony\\Documents\\Lambda\\FoodTruckTrackR\\front-end\\trackr\\src\\dummy-data\\users.js":"19"},{"size":543,"mtime":1612311995631,"results":"20","hashOfConfig":"21"},{"size":362,"mtime":1612210561239,"results":"22","hashOfConfig":"21"},{"size":5731,"mtime":1612375938810,"results":"23","hashOfConfig":"21"},{"size":6209,"mtime":1612311995627,"results":"24","hashOfConfig":"21"},{"size":1087,"mtime":1612311995625,"results":"25","hashOfConfig":"21"},{"size":263,"mtime":1612311995622,"results":"26","hashOfConfig":"21"},{"size":290,"mtime":1612311995625,"results":"27","hashOfConfig":"21"},{"size":614,"mtime":1612311995635,"results":"28","hashOfConfig":"21"},{"size":316,"mtime":1612311995623,"results":"29","hashOfConfig":"21"},{"size":636,"mtime":1612311995633,"results":"30","hashOfConfig":"21"},{"size":331,"mtime":1612311995632,"results":"31","hashOfConfig":"21"},{"size":4310,"mtime":1612372858025,"results":"32","hashOfConfig":"21"},{"size":397,"mtime":1612372858026,"results":"33","hashOfConfig":"21"},{"size":164,"mtime":1612311995623,"results":"34","hashOfConfig":"21"},{"size":2500,"mtime":1612372858026,"results":"35","hashOfConfig":"21"},{"size":373,"mtime":1612372858025,"results":"36","hashOfConfig":"21"},{"size":346,"mtime":1612372858027,"results":"37","hashOfConfig":"21"},{"size":3051,"mtime":1612379730201,"results":"38","hashOfConfig":"21"},{"size":3430,"mtime":1612311995630,"results":"39","hashOfConfig":"21"},{"filePath":"40","messages":"41","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"1g6ay7r",{"filePath":"42","messages":"43","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"44","messages":"45","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"46","messages":"47","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"49","messages":"50","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"51","messages":"52","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"53","messages":"54","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"55","messages":"56","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"57","messages":"58","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"59","messages":"60","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"61","messages":"62","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"63","messages":"64","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"65","usedDeprecatedRules":"48"},{"filePath":"66","messages":"67","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"68","messages":"69","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"70","messages":"71","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"72","usedDeprecatedRules":"48"},{"filePath":"73","messages":"74","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"75","messages":"76","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"77","messages":"78","errorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"79","messages":"80","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"81","usedDeprecatedRules":"48"},"C:\\Users\\Tony\\Documents\\Lambda\\FoodTruckTrackR\\front-end\\trackr\\src\\index.js",[],"C:\\Users\\Tony\\Documents\\Lambda\\FoodTruckTrackR\\front-end\\trackr\\src\\reportWebVitals.js",[],"C:\\Users\\Tony\\Documents\\Lambda\\FoodTruckTrackR\\front-end\\trackr\\src\\App.js",["82"],"C:\\Users\\Tony\\Documents\\Lambda\\FoodTruckTrackR\\front-end\\trackr\\src\\components\\RegisterForm.js",[],["83","84"],"C:\\Users\\Tony\\Documents\\Lambda\\FoodTruckTrackR\\front-end\\trackr\\src\\components\\OperatorDash.js",[],"C:\\Users\\Tony\\Documents\\Lambda\\FoodTruckTrackR\\front-end\\trackr\\src\\components\\DinerDash.js",[],"C:\\Users\\Tony\\Documents\\Lambda\\FoodTruckTrackR\\front-end\\trackr\\src\\components\\NavBar.js",[],"C:\\Users\\Tony\\Documents\\Lambda\\FoodTruckTrackR\\front-end\\trackr\\src\\validation\\operatorFormSchema.js",[],"C:\\Users\\Tony\\Documents\\Lambda\\FoodTruckTrackR\\front-end\\trackr\\src\\components\\Footer.js",[],"C:\\Users\\Tony\\Documents\\Lambda\\FoodTruckTrackR\\front-end\\trackr\\src\\validation\\dinerFormSchema.js",[],"C:\\Users\\Tony\\Documents\\Lambda\\FoodTruckTrackR\\front-end\\trackr\\src\\utils\\axiosWithAuth.js",[],"C:\\Users\\Tony\\Documents\\Lambda\\FoodTruckTrackR\\front-end\\trackr\\src\\components\\LoginForm.js",["85"],"// username and password need to be present\n\n// looking for username and password on the back end\n// access key?\n// send to back end via POST (onSubmit())\nimport React, { useState, useEffect } from \"react\";\nimport styled from \"styled-components\";\nimport loginSchema from \"../validation/loginFormSchema\";\nimport * as yup from \"yup\";\nimport { axiosWithAuth } from \"../utils/axiosWithAuth\";\nimport { Link, useHistory } from \"react-router-dom\";\nimport axios from \"axios\";\n\n\nconst initialLoginFormValues = {\n  username: \"\",\n  password: \"\",\n};\n\nconst initialLoginFormErrors = {\n  username: \"\",\n  password: \"\",\n};\nconst initialLoginDisabled = true;\n\nexport default function LoginForm() {\n\n  const {push} = useHistory()\n  const [loginFormValues, setLoginFormValues] = useState(\n    initialLoginFormValues\n  );\n  const [loginButton, setLoginButton] = useState(initialLoginDisabled);\n  const [loginFormErrors, setLoginFormErrors] = useState(\n    initialLoginFormErrors\n  );\n\n  const loginInputChange = (name, value) => {\n    yup\n      .reach(loginSchema, name)\n      .validate(value)\n      .then(() => {\n        setLoginFormErrors({\n          ...loginFormErrors,\n          [name]: \"\",\n        });\n      })\n      .catch((err) => {\n        setLoginFormErrors({\n          ...loginFormErrors,\n          [name]: err.errors[0],\n        });\n      });\n\n    setLoginFormValues({\n      ...loginFormValues,\n      [name]: value,\n    });\n  };\n\n  useEffect(() => {\n    loginSchema.isValid(loginFormValues).then((valid) => {\n      setLoginButton(!valid);\n    });\n  }, [loginFormValues]);\n\n  /*\ncode that was pulled in from the main App.js component is up above    \n    \n    \n    \n    \n    \n    \ncode that was already in the Login.js component is placed below and everything is hooked up to work as before will be hooking the form to the backend using the POST upon form submit\n    */\n  const loginOnChange = (evt) => {\n    const { name, value } = evt.target;\n    loginInputChange(name, value);\n  };\n\n  const loginSubmit = (evt) => {\n    evt.preventDefault();\n    //axios needed\n    axios\n      .post(\"https://food-truck-back-end-lambda.herokuapp.com/api/auth/login\", loginFormValues)\n      .then((res) => {\n        console.log(res.data);\n        localStorage.setItem('token', res.data.token);\n        localStorage.setItem('role', res.data.role);\n        // axios\n        //.get()\n        // get array of users\n        // filter through array and return user if loginFormValues.username === user.username\n        // if user.role === \"diner\"\n        res.data.role ===\"diner\" ?\n        push(\"/diner-dashboard\")  :\n        push(\"/operator-dashboard\")\n        // setLoginFormValues(initialLoginFormValues);\n      })\n      .catch((err) => {\n        console.log(err.response);\n      });\n    //\n    // console.log(\"success!\");\n    // this will be axios POST instead of console.log. Thats there just for testing and the form does work properly (just doesn't send any actual data)\n  };\n\n  return (\n    <StyledLoginContainer>\n      <h2>Login Here!</h2>\n      <form onSubmit={loginSubmit}>\n        <StyledInputDiv>\n          <label>\n            Username:\n            <input\n              type=\"text\"\n              name=\"username\"\n              value={loginFormValues.username}\n              onChange={loginOnChange}\n            ></input>\n            <StyledLoginErrors>\n              {loginFormErrors.username}\n            </StyledLoginErrors>\n          </label>\n        </StyledInputDiv>\n\n        <StyledInputDiv>\n          <label>\n            Password:\n            <input\n              type=\"password\"\n              name=\"password\"\n              value={loginFormValues.password}\n              onChange={loginOnChange}\n            ></input>\n            <StyledLoginErrors>\n              {loginFormErrors.password}\n            </StyledLoginErrors>\n          </label>\n        </StyledInputDiv>\n        <button disabled={loginButton}>Login!</button>\n      </form>\n      <p>\n        Need an Account?\n        <br />\n        <Link to=\"/register-form\">Register Here</Link>\n      </p>\n    </StyledLoginContainer>\n  );\n}\n\nconst StyledLoginContainer = styled.div`\n  border: solid 1px red;\n\n  input {\n    margin: 0 0 1% 0.3%;\n  }\n`;\n\nconst StyledInputDiv = styled.div`\n  // border: solid 1px blue;\n`;\n\nconst StyledLoginErrors = styled.div`\n  color: red;\n`;\n","C:\\Users\\Tony\\Documents\\Lambda\\FoodTruckTrackR\\front-end\\trackr\\src\\components\\PrivateRoute.js",[],"C:\\Users\\Tony\\Documents\\Lambda\\FoodTruckTrackR\\front-end\\trackr\\src\\components\\DinerProfile.js",[],"C:\\Users\\Tony\\Documents\\Lambda\\FoodTruckTrackR\\front-end\\trackr\\src\\components\\Trucks.js",["86","87","88","89"],"import React, { useEffect, useState } from 'react'\nimport users from '../dummy-data/users'\nimport { axiosWithAuth } from '../utils/axiosWithAuth'\nimport TruckCard from './TruckCard'\n\n// const allOperatorData = users.filter(user => {\n//               return  user.role === \"operator\"\n// })\n// let allTruckData = []\n// allOperatorData.forEach( oper => {\n//                         oper.trucksOwned.forEach( truck => {\n//                             allTruckData.push(truck)\n//                         })\n// })\n\n// const currentUserData = {\n//     id: 2,\n//     role: \"diner\",\n//     username: \"mikemurphy\",\n//     password: \"password\",\n//     currentLocation: \"60805\",   // can be string with address, zipcode number, GPS coordinates as string\n//     favoriteTrucks: [123, 789] // id\n//                }\n\nconst allOperatorData = users.filter(user => {\n              return  user.role === \"operator\"\n})\n// let allTruckData = []\n// allOperatorData.forEach( oper => {\n//                         oper.trucksOwned.forEach( truck => {\n//                             allTruckData.push(truck)\n//                         })\n// })\n\nconst currentUserData = {\n    id: 2,\n    role: \"diner\",\n    username: \"mikemurphy\",\n    password: \"password\",\n    currentLocation: \"60805\",   // can be string with address, zipcode number, GPS coordinates as string\n    favoriteTrucks: [123, 789] // id\n               }\n\nexport default function Trucks(props) {\n    const [trucks, setTrucks] = useState([])\n    const [currentUser, setCurrentUser] = useState(currentUserData)\n    const [isDiner, setIsDiner] = useState(false)\n    const [favorites, setFavorites] = useState([])\n    \n    const runEffect = () => {\n        //  setCurrentUser(currentUserData)\n        debugger\n        axiosWithAuth()\n        .get('/api/trucks')\n        .then(res => {\n            console.log(res.data)\n            setTrucks(res.data)\n        }\n        )\n        .catch(err => {\n            console.log(err)\n        })\n \n    }\n\n    useEffect( () => {\n        runEffect()\n        setIsDiner(currentUser.role === \"diner\")\n        setFavorites(currentUser.favoriteTrucks)\n    }, [])\n\n  \n\n    return (\n        <div className=\"trucks-container\">\n        <h1>Hello from trucks</h1>\n            {trucks.map( truck => {\n                return (\n                    <TruckCard key={truck.id} truck={truck} isDiner={currentUser.role === \"diner\"} favorites={favorites} setFavorites={setFavorites}/>\n                )\n            })}\n\n        </div>\n        \n    )\n}","C:\\Users\\Tony\\Documents\\Lambda\\FoodTruckTrackR\\front-end\\trackr\\src\\components\\OperatorProfile.js",[],"C:\\Users\\Tony\\Documents\\Lambda\\FoodTruckTrackR\\front-end\\trackr\\src\\validation\\loginFormSchema.js",[],"C:\\Users\\Tony\\Documents\\Lambda\\FoodTruckTrackR\\front-end\\trackr\\src\\components\\TruckCard.js",["90","91","92","93","94"],"C:\\Users\\Tony\\Documents\\Lambda\\FoodTruckTrackR\\front-end\\trackr\\src\\dummy-data\\users.js",["95"],"const users = [{\n            id: 0,\n            role: \"diner\",\n            username: \"mikemurphy\",\n            password: \"password\",\n            currentLocation: \"60805\",   // can be string with address, zipcode number, GPS coordinates as string\n            favoriteTrucks: [0, 3, 5], // id\n        },\n        {\n            id: 1,\n            role: \"operator\",\n            username: \"anthony\",\n            password: \"password\",\n            currentLocation: \"02134\",   // can be string with address, zipcode number, GPS coordinates as string\n            trucksOwned: [\n                        {id: 123, // unique truck id\n                        imageOfTruck: \"https://images.unsplash.com/photo-1565097158282-1094bd0fe46a?ixid=MXwxMjA3fDB8MHxzZWFyY2h8MTB8fGZvb2QlMjB0cnVja3N8ZW58MHx8MHw%3D&ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=60\",\n                        cuisineType: \"popcorn\",\n                        customerRatings: [4, 3, 2, 1]}\n            ]},   \n            {\n             id: 2,\n             role: \"diner\",\n             username: \"mikemurphy\",\n             password: \"password\",\n             currentLocation: \"60805\",   // can be string with address, zipcode number, GPS coordinates as string\n             favoriteTrucks: [123, 456, 789], // id\n                        },\n            {\n                id: 3,\n                role: \"operator\",\n                username: \"anthony\",\n                password: \"password\",\n                currentLocation: \"02134\",   // can be string with address, zipcode number, GPS coordinates as string\n                trucksOwned: [\n                    {\n                        id: 456,\n                        imageOfTruck: \"https://images.unsplash.com/photo-1565097158282-1094bd0fe46a?ixid=MXwxMjA3fDB8MHxzZWFyY2h8MTB8fGZvb2QlMjB0cnVja3N8ZW58MHx8MHw%3D&ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=60\",\n                        cuisineType: \"popcorn\",\n                        customerRatings: [4, 5, 2, 2]\n                    },\n                    {\n                        id: 789,\n                        imageOfTruck: \"https://images.unsplash.com/photo-1565097158282-1094bd0fe46a?ixid=MXwxMjA3fDB8MHxzZWFyY2h8MTB8fGZvb2QlMjB0cnVja3N8ZW58MHx8MHw%3D&ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=60\",\n                        cuisineType: \"popcorn\",\n                        customerRatings: [4, 5, 2, 2]\n                    }\n            ]\n    }]\n\n    users.map(user => {\n      if(user.trucksOwned) {\n            user.trucksOwned.map((truck, i )=> {\n                let total = 0;\n                truck.customerRatings.forEach(rating => {\n                    total += rating\n                })\n                let avg = total / truck.customerRatings.length //calculate average rating\n                let newTruckObj = {...truck,                    // create new truck obj that includes avgCustomerRatings\n                                    avgCustomerRatings: avg}\n                let newTrucksOwnedArr = user.trucksOwned        // set new array equal to the previous array\n                newTrucksOwnedArr[i] = newTruckObj              // replace element in array with the newtruckobj\n                user.trucksOwned = newTrucksOwnedArr            // update the trucksOwned array\n            })\n        }\n        return (\n            user                                                // return user with the new trucks owned array\n        )  \n    } )\n\n    export default users",{"ruleId":"96","severity":1,"message":"97","line":16,"column":10,"nodeType":"98","messageId":"99","endLine":16,"endColumn":23},{"ruleId":"100","replacedBy":"101"},{"ruleId":"102","replacedBy":"103"},{"ruleId":"96","severity":1,"message":"97","line":10,"column":10,"nodeType":"98","messageId":"99","endLine":10,"endColumn":23},{"ruleId":"96","severity":1,"message":"104","line":25,"column":7,"nodeType":"98","messageId":"99","endLine":25,"endColumn":22},{"ruleId":"96","severity":1,"message":"105","line":46,"column":25,"nodeType":"98","messageId":"99","endLine":46,"endColumn":39},{"ruleId":"96","severity":1,"message":"106","line":47,"column":12,"nodeType":"98","messageId":"99","endLine":47,"endColumn":19},{"ruleId":"107","severity":1,"message":"108","line":70,"column":8,"nodeType":"109","endLine":70,"endColumn":10,"suggestions":"110"},{"ruleId":"96","severity":1,"message":"111","line":7,"column":53,"nodeType":"98","messageId":"99","endLine":7,"endColumn":56},{"ruleId":"107","severity":1,"message":"112","line":20,"column":8,"nodeType":"109","endLine":20,"endColumn":19,"suggestions":"113"},{"ruleId":"114","severity":1,"message":"115","line":44,"column":13,"nodeType":"116","endLine":44,"endColumn":43},{"ruleId":"117","severity":1,"message":"118","line":49,"column":13,"nodeType":"116","endLine":49,"endColumn":24},{"ruleId":"117","severity":1,"message":"118","line":52,"column":49,"nodeType":"116","endLine":52,"endColumn":60},{"ruleId":"119","severity":1,"message":"120","line":53,"column":45,"nodeType":"121","messageId":"122","endLine":53,"endColumn":47},"no-unused-vars","'axiosWithAuth' is defined but never used.","Identifier","unusedVar","no-native-reassign",["123"],"no-negated-in-lhs",["124"],"'allOperatorData' is assigned a value but never used.","'setCurrentUser' is assigned a value but never used.","'isDiner' is assigned a value but never used.","react-hooks/exhaustive-deps","React Hook useEffect has missing dependencies: 'currentUser.favoriteTrucks' and 'currentUser.role'. Either include them or remove the dependency array. You can also replace multiple useState variables with useReducer if 'setIsDiner' needs the current value of 'currentUser.role'.","ArrayExpression",["125"],"'key' is assigned a value but never used.","React Hook useEffect has a missing dependency: 'favoriteMatch.length'. Either include it or remove the dependency array.",["126"],"jsx-a11y/alt-text","img elements must have an alt prop, either with meaningful text, or an empty string for decorative images.","JSXOpeningElement","jsx-a11y/anchor-is-valid","The href attribute requires a valid value to be accessible. Provide a valid, navigable address as the href value. If you cannot provide a valid href, but still need the element to resemble a link, use a button and change it with appropriate styles. Learn more: https://github.com/evcohen/eslint-plugin-jsx-a11y/blob/master/docs/rules/anchor-is-valid.md","array-callback-return","Array.prototype.map() expects a return value from arrow function.","ArrowFunctionExpression","expectedInside","no-global-assign","no-unsafe-negation",{"desc":"127","fix":"128"},{"desc":"129","fix":"130"},"Update the dependencies array to be: [currentUser.favoriteTrucks, currentUser.role]",{"range":"131","text":"132"},"Update the dependencies array to be: [favoriteMatch.length, favorites]",{"range":"133","text":"134"},[2122,2124],"[currentUser.favoriteTrucks, currentUser.role]",[645,656],"[favoriteMatch.length, favorites]"]